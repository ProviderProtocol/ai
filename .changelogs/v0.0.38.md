# v0.0.38

## Changes

- [x] Added: Moonshot AI provider with Kimi K2.5 model support
- [x] Added: Thinking mode (extended reasoning) with `reasoning_content` extraction
- [x] Added: Vision support for image input via MoonViT encoder
- [x] Added: Experimental video input support
- [x] Added: 12 server-side builtin tools (web search, code runner, quickjs, fetch, convert, date, base64, memory, rethink, random choice, mew)
- [x] Added: Streaming support with reasoning delta events
- [x] Added: Comprehensive live tests for all Moonshot features

## New Provider: Moonshot

```ts
import { moonshot, tools } from '@providerprotocol/ai/moonshot';
import { llm } from '@providerprotocol/ai';

// Basic usage with Kimi K2.5
const model = llm({
  model: moonshot('kimi-k2.5'),
  params: { max_tokens: 1000 }
});

// With thinking mode (default)
const thinkingModel = llm({
  model: moonshot('kimi-k2.5'),
  params: {
    max_tokens: 2000,
    temperature: 1.0,
    thinking: { type: 'enabled' }
  }
});

// With builtin tools
const toolModel = llm({
  model: moonshot('kimi-k2.5'),
  params: {
    tools: [
      tools.webSearch(),
      tools.codeRunner(),
      tools.date()
    ]
  }
});
```

## Builtin Tools

| Tool | Description |
|------|-------------|
| `webSearch()` | Real-time internet search |
| `codeRunner()` | Python code execution with matplotlib/pandas |
| `quickjs()` | JavaScript execution via QuickJS engine |
| `fetch()` | URL content fetching with markdown extraction |
| `convert()` | Unit conversion (length, mass, temperature, currency) |
| `date()` | Date/time processing and timezone conversion |
| `base64Encode()` | Base64 encoding |
| `base64Decode()` | Base64 decoding |
| `memory()` | Memory storage and retrieval system |
| `rethink()` | Intelligent reasoning/reflection tool |
| `randomChoice()` | Random selection with optional weights |
| `mew()` | Cat meowing and blessings generator |

## Notes

- Environment variables: `MOONSHOT_API_KEY` (primary) or `KIMI_API_KEY` (fallback)
- API endpoint: `https://api.moonshot.ai/v1/chat/completions`
- 256K context window for Kimi K2.5
- Excel plugin not yet implemented (uses different `_plugin` format)
