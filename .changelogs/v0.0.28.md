# v0.0.28 Changelog

## Multi-Modal Content Support

Major expansion of multimodal capabilities with new `Document`, `Audio`, and `Video` classes. UPP now supports rich media content across multiple providers with a unified API.

### New Media Classes

- [x] `Document` class for PDFs and text files (base64, URL, or plain text sources)
- [x] `Audio` class for audio files (MP3, WAV, OGG, FLAC, AAC, M4A, WebM, AIFF)
- [x] `Video` class for video files (MP4, WebM, MOV, AVI, MPEG, WMV, 3GPP, FLV)
- [x] All classes support `fromPath()`, `fromBase64()`, `fromBytes()`, and `toBlock()` methods

### Usage

```ts
import { llm, anthropic, Document, Audio, Video } from '@providerprotocol/ai';

const model = llm({ model: anthropic('claude-sonnet-4-20250514') });

// Load media from files
const doc = await Document.fromPath('./report.pdf', 'Annual Report');
const audio = await Audio.fromPath('./recording.mp3');
const video = await Video.fromPath('./clip.mp4');

// Use in messages
const turn = await model.generate([
  'Analyze this document:',
  doc.toBlock(),
]);

// Or with URL reference (documents only)
const urlDoc = Document.fromUrl('https://example.com/document.pdf');

// Plain text documents
const textDoc = Document.fromText('Document content here...', 'Notes');
```

### Provider Support Matrix

| Provider | Document | Audio | Video |
|----------|----------|-------|-------|
| Anthropic | PDF, Text | - | - |
| Google | PDF, Text | All formats | All formats |
| OpenAI | PDF, Text | - | - |
| OpenRouter | PDF, Text | All formats | All formats |

### New Content Block Types

```ts
import type {
  DocumentBlock,
  AudioBlock,
  VideoBlock,
  DocumentSource,
} from '@providerprotocol/ai';

// Type guards
import {
  isDocumentBlock,
  isAudioBlock,
  isVideoBlock,
} from '@providerprotocol/ai';
```

### New Exports

From `@providerprotocol/ai`:
- `Document`
- `Audio`
- `Video`
- `DocumentBlock`
- `AudioBlock`
- `VideoBlock`
- `DocumentSource`
- `DocumentSourceType`
- `isDocumentBlock()`
- `isAudioBlock()`
- `isVideoBlock()`

## Maintenance

- [x] Consolidated duplicate `LLMHandler` and `ImageHandler` type definitions
- [x] Cleaned up provider handler interfaces for consistency

## Tests

- [x] `tests/unit/core/document.test.ts` - Document class unit tests
- [x] `tests/unit/providers/anthropic-document.test.ts` - Anthropic document transform tests
- [x] `tests/unit/providers/google-media.test.ts` - Google media transform tests
- [x] `tests/unit/providers/openai-document.test.ts` - OpenAI document transform tests
- [x] `tests/unit/providers/openrouter-media.test.ts` - OpenRouter media transform tests
- [x] `tests/live/anthropic.live.test.ts` - Anthropic document live tests
- [x] `tests/live/google.media.live.test.ts` - Google media live tests
- [x] `tests/live/openrouter.media.live.test.ts` - OpenRouter media live tests
